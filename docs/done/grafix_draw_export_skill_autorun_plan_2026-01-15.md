# どこで: `skills/grafix-draw-export/SKILL.md`（→ `.skill` を生成してインストール）
#
# 何を: `grafix-draw-export` Skill の指示を更新し、**要件ヒアリングから入らず**にデフォルトで走り始める（=自動で候補PNGを出す）挙動に寄せる。
#
# なぜ: 「まず候補を複数出して見たい」ケースで、毎回の質問コストを下げて反復ループを速く回すため。

## ゴール

- Skill 発火時に、ユーザーが要件を詳細に書いていなくても **まず 1 バッチの候補 PNG を出す**。
- その後に「どれを残すか」をユーザーに選んでもらい、改良→再出力へ進む。
- 質問は「どうしても決められない/失敗した」場合だけに絞る（最小）。

## 変更方針（SKILL.md の内容）

### 1) “最初に聞く” を廃止し、デフォルトで進める

- 既定値を明記し、**未指定ならそれを採用して即実行**する。
  - `canvas`: `800 800`
  - `t`: `0 0.25 0.5 0.75 1.0`
  - `run-id`: `v1`（改良のたびに `v2`, `v3`…）
  - 出力先: 既定（`python -m grafix export` の `--out/--out-dir` 未指定時の保存規則）

### 2) “新規/既存” の分岐も既定動作を持たせる

- ユーザーが `--callable` 相当（例: `sketch.generated.foo:draw`）を明示した場合は **既存 export**。
- 明示が無い場合は **新規スケッチを自動生成**して export する（`sketch/generated/<slug>.py`）。

### 3) resvg は “質問” ではなく “検出→案内” にする

- まず `command -v resvg` を実行して存在確認。
- 無ければインストール案内を出して中断（ここだけはユーザー作業が必要）。
- あるなら黙って続行。

### 4) 最初の出力後に、選別の問いだけを出す

- 「どれを残しますか？」を **ファイル名/インデックス/時刻 t** のいずれかで選べる形で聞く。
- 追加で 1 行だけ「どこが良い/悪いか」を聞く（任意）。

## 実装チェックリスト

- [ ] `skills/grafix-draw-export/SKILL.md` を更新（上記方針を反映）
- [ ] `dist/grafix-draw-export.skill` を再生成
- [ ] ユーザー側で `.codex/skills/grafix-draw-export/` へ反映（コピー or 再インストール）
- [ ] “質問テンプレ” を最小化（要件ヒアリングを削除）
- [ ] `python -m grafix export` コマンド例を「まず出す」流れに合わせて差し替え

## 要確認（あなたに確認したい）

- “新規スケッチ自動生成” の既定モチーフは、**こちらで適当に決めて良い**？（例: 幾何 + fill/partition + displace）
